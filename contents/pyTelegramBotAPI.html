<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="bases/style.css">
    <script src="bases/script.js"></script>
    <script src="bases/jquery.js"></script>
    <script>
        $(function () {
            $("#header").load("bases/uni-header.html");
            $("#footer").load("bases/uni-footer.html")
        });
    </script>
    <title>pyTelegramBotAPI</title>
</head>

<body>
<header id="header"></header>

<!--The Documentation Section Goes Here-->
<section id="pyTelegramBotAPI">
<hr>
<h3>pyTelegramBotAPI</h3>
    <p>TeleBot is synchronous and asynchronous implementation of Telegram Bot API.<span style="font-size: 1.3rem;">&nbsp;</span><a target="_blank" href="https://pytba.readthedocs.io/en/latest/index.html" style="font-size: 1.3rem;">Docs</a><span style="font-size: 1.3rem;">&nbsp;/ </span><a target="_blank" href="https://github.com/eternnoir/pyTelegramBotAPI" style="font-size: 1.3rem;">Github</a></p><p>Install using "<span style="font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-size: 13.6px; color: rgb(31, 35, 40);">pip install pyTelegramBotAPI</span><span style="font-size: 20.8px;">".</span></p><p>Start with a simple example:</p><pre style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><div style="background-color: rgb(30, 31, 34); color: rgb(188, 190, 196);"><div style="background-color: rgb(40, 44, 52); color: rgb(171, 178, 191);"><div><span style="color:#c678dd;">import </span>telebot<br><br>bot = telebot.<span style="color:#61afef;">TeleBot</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">'bot_token'</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Use "message_handler" wrapper to determine what kinds of messages trigger the function<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">commands</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"start"</span>, <span style="color:#98c379;">"init"</span><span style="color:#e8ba36;">])<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">send_welcome</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=<span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">"welcome to bot"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">    </span><span style="color:#5c6370;"># OR<br></span><span style="color:#5c6370;">    </span>bot.<span style="color:#61afef;">reply_to</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"welcome to bot"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Use one of the below functions to run the bot.<br></span>bot.<span style="color:#61afef;">polling</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">timeout</span>=<span style="color:#d19a66;">120</span><span style="color:#e8ba36;">)  </span><span style="color:#5c6370;"># Stops the bot if any error encountered<br></span>bot.<span style="color:#61afef;">infinity_polling</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">timeout</span>=<span style="color:#d19a66;">120</span><span style="color:#e8ba36;">)<br></span></div></div></div></pre></pre></pre>
<p>Message Handlers: You can specify what kinds of messages and data a function should get.</p><div style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;"><br><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">commands</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"info"</span><span style="color:#e8ba36;">])              </span><span style="color:#5c6370;"># Triggers its wrapped func with commands.<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>=<span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">m</span>:<span style="color:#c678dd;">True</span><span style="color:#e8ba36;">)             </span><span style="color:#5c6370;"># Triggers its wrapped func with every message.<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>=<span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">m</span>: m.text==<span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">دکمه</span><span style="color:#98c379;">1"</span><span style="color:#e8ba36;">) </span><span style="color:#5c6370;"># Triggers its wrapped func if message is "</span><span style="color:#5c6370;font-family:'Courier New',monospace;">دکمه</span><span style="color:#5c6370;">1".<br></span><span style="color:#5c6370;">                                            # You also can pass a real filter function to "func" parameter.<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">regexp</span>=<span style="color:#98c379;">r"/d+"</span><span style="color:#e8ba36;">)                  </span><span style="color:#5c6370;"># Triggers its wrapped func when receives a number.<br></span><span style="color:#5c6370;">                                            # Read more on regex in python docs<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_types</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"supergroup"</span><span style="color:#e8ba36;">])      </span><span style="color:#5c6370;"># Triggers its wrapped func with messages in super groups.<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">content_types</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"photos"</span><span style="color:#e8ba36;">])          </span><span style="color:#5c6370;"># Triggers its wrapped func when the message contains photo.<br></span><span style="color:#5c6370;"><br></span></div><p>Different kinds of 'SEND' function:</p><div style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;"><span style="color:#5c6370;"># Use chat actions before "send" functions to show the status of your bot:<br></span>bot.<span style="color:#61afef;">send_chat_action</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">'upload_audio'</span><span style="color:#e8ba36;">)<br></span>bot.<span style="color:#61afef;">send_chat_action</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">'type'</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br><br></span><div><span style="color:#5c6370;"># Sending Different types of  contents:<br></span><span style="color:#c678dd;">with </span><span style="color:#56b6c2;">open</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"C:/Users/(373).jpg"</span>, <span style="color:#98c379;">"rb"</span><span style="color:#e8ba36;">) </span><span style="color:#c678dd;">as </span>photo:<br>    bot.<span style="color:#61afef;">send_photo</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, photo, <span style="color:#d19a66;">caption</span>=<span style="color:#98c379;">"This is photo"</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">with </span><span style="color:#56b6c2;">open</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"C:/Users/743_n.mp4"</span>, <span style="color:#98c379;">"rb"</span><span style="color:#e8ba36;">) </span><span style="color:#c678dd;">as </span>video:<br>    bot.<span style="color:#61afef;">send_video</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, video, <span style="color:#d19a66;">caption</span>=<span style="color:#98c379;">"This is vid"</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">with </span><span style="color:#56b6c2;">open</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"C:/UsersDuc.zip"</span>, <span style="color:#98c379;">"r"</span><span style="color:#e8ba36;">) </span><span style="color:#c678dd;">as </span>document:<br>    bot.<span style="color:#61afef;">send_document</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, document<span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">with </span><span style="color:#56b6c2;">open</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"C:/Userstarten.mp3"</span>, <span style="color:#98c379;">"rb"</span><span style="color:#e8ba36;">) </span><span style="color:#c678dd;">as </span>audio:<br>    bot.<span style="color:#61afef;">send_audio</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, audio<span style="color:#e8ba36;">)</span></div><span style="color:#e8ba36;"><br></span></div><div style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;"><span style="color:#e8ba36;"><br></span></div><div style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;"><div><span style="color:#5c6370;"># Send Grouped items<br></span>media_list = <span style="color:#e8ba36;">[]<br></span>photo1 = types.<span style="color:#61afef;">InputMediaPhoto</span><span style="color:#e8ba36;">(</span><span style="color:#56b6c2;">open</span><span style="color:#54a857;">(</span><span style="color:#98c379;">"C:/Users/499).jpg"</span>, <span style="color:#98c379;">"rb"</span><span style="color:#54a857;">)</span><span style="color:#e8ba36;">)<br></span>photo2 = types.<span style="color:#61afef;">InputMediaVideo</span><span style="color:#e8ba36;">(</span><span style="color:#56b6c2;">open</span><span style="color:#54a857;">(</span><span style="color:#98c379;">"C:/51).mp4"</span>, <span style="color:#98c379;">"rb"</span><span style="color:#54a857;">)</span><span style="color:#e8ba36;">)<br></span>media_list.<span style="color:#61afef;">extend</span><span style="color:#e8ba36;">([</span>photo1, photo2<span style="color:#e8ba36;">])<br></span><span style="color:#e8ba36;"><br></span>bot.<span style="color:#61afef;">send_media_group</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#d19a66;">media</span>=media_list<span style="color:#e8ba36;">)<br></span></div><div><span style="color:#e8ba36;"><br></span></div><div><span style="color:#e8ba36;"><br></span></div></div><p>Making Inline Buttons and Keyboard Buttons and How to Use:</p>
<pre style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;"><div style="background-color: rgb(30, 31, 34); color: rgb(188, 190, 196);"><div style="background-color: rgb(40, 44, 52); color: rgb(171, 178, 191);"><div><span style="color:#5c6370;"># Inline Buttons and usage</span></div><div><span style="color: rgb(92, 99, 112);"># MAKING</span><span style="color:#5c6370;"><br></span><div>btn1 = telebot.types.<span style="color:#61afef;">InlineKeyboardButton</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">دکمه</span><span style="color:#98c379;"> 1"</span>, <span style="color:#d19a66;">url</span>=<span style="color:#98c379;">"https//t.me/bing"</span><span style="color:#e8ba36;">)   </span><span style="color:#5c6370;"># Going to a ling using button.<br></span>btn2 = telebot.types.<span style="color:#61afef;">InlineKeyboardButton</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">دکمه</span><span style="color:#98c379;"> 2"</span>, <span style="color:#d19a66;">callback_data</span>=<span style="color:#98c379;">"Hey"</span><span style="color:#e8ba36;">)      </span><span style="color:#5c6370;"># Calling another function in the bot.<br></span><span style="color:#5c6370;"><br></span>markup = telebot.types.<span style="color:#61afef;">InlineKeyboardMarkup</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">row_width</span>=<span style="color:#d19a66;">1</span><span style="color:#e8ba36;">)<br></span>markup.<span style="color:#61afef;">add</span><span style="color:#e8ba36;">(</span>btn1, btn2<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color: rgb(92, 99, 112);"># USING</span><span style="color:#e8ba36;"><br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">commands</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"start"</span><span style="color:#e8ba36;">])<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">send_welcome</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">"welcome"</span>, <span style="color:#d19a66;">reply_markup</span>=markup<span style="color:#e8ba36;">)  </span><span style="color:#5c6370;"># Use "reply_markup" tp show the buttons.<br></span><span style="color:#5c6370;">    <br></span><span style="color:#5c6370;"><br></span><span style="color:#e5c07b;">@bot.callback_query_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>=<span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">call</span>: <span style="color:#d19a66;">call</span>.data == <span style="color:#98c379;">"Hey"</span><span style="color:#e8ba36;">)  </span><span style="color:#5c6370;"># Use "callback_query_handler" to get the calls.<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">handle_query</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">call</span><span style="color:#e8ba36;">)</span>:<br>    <span style="color:#c678dd;">if </span><span style="color:#d19a66;">call</span>.data == <span style="color:#98c379;">"Hey"</span>:<br>        bot.<span style="color:#61afef;">answer_callback_query</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">call</span>.id, <span style="color:#98c379;">"Hello!"</span><span style="color:#e8ba36;">)   <br></span><span style="color:#e8ba36;">                            </span><span style="color:#5c6370;"># "answer_callback_query" makes a notification rather than a message.</span></div><span style="color:#e8ba36;"><div><span style="color:#e8ba36;"><br></span></div><div><span style="color:#e8ba36;"><br></span></div><div><span style="color:#e8ba36;"><br></span></div><br></span><span style="color:#5c6370;"># Keyboard Buttons and usage</span></div><div><span style="color: rgb(92, 99, 112);"># MAKING</span><div>key_markup = telebot.types.<span style="color:#61afef;">ReplyKeyboardMarkup</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">resize_keyboard</span>=<span style="color:#c678dd;">True</span>, <span style="color:#d19a66;">row_width</span>=<span style="color:#d19a66;">2</span><span style="color:#e8ba36;">)<br></span>key_markup.<span style="color:#61afef;">add</span><span style="color:#e8ba36;">(</span><span style="color:#98c379;">"one"</span>, <span style="color:#98c379;">"two"</span>, <span style="color:#98c379;">"Three"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color: rgb(92, 99, 112);"># USING</span><span style="color:#e8ba36;"><br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">commands</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"people"</span><span style="color:#e8ba36;">])<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">send_welcome3</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span><span style="color:#e8ba36;">)</span>:<br>    <span style="color:#c678dd;">global </span>m<br><br>    m = bot.<span style="color:#61afef;">reply_to</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>, <span style="color:#d19a66;">text</span>=<span style="color:#98c379;">"how many?"</span>, <span style="color:#d19a66;">reply_markup</span>=key_markup<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;">    </span>bot.<span style="color:#61afef;">register_next_step_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>, counting<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br><br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">counting</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">f"you are </span><span style="color:#e8ba36;">{</span>m.text<span style="color:#e8ba36;">}</span><span style="color:#98c379;"> people"</span>,<br>                     <span style="color:#d19a66;">reply_markup</span>=types.<span style="color:#61afef;">ReplyKeyboardRemove</span><span style="color:#54a857;">()</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">                        </span><span style="color:#5c6370;"># Use "types.ReplyKeyboardRemove()" to remove keyboard in the next message.<br></span><span style="color:#5c6370;"><br></span></div></div><div><br></div></div></div></pre><p>Next Step Handlers: used for multi-step questions, for example if you want to ask for name, age, and height in a row.</p><div style="background-color:#1e1f22;color:#bcbec4;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;"><div style="background-color: rgb(40, 44, 52); color: rgb(171, 178, 191);"><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">commands</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">"info"</span><span style="color:#e8ba36;">])<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">info</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span><span style="color:#e8ba36;">)</span>:<br>    msg = bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">"Enter your name:"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">    </span>bot.<span style="color:#61afef;">register_next_step_handler</span><span style="color:#e8ba36;">(</span>msg, name<span style="color:#e8ba36;">) </span><span style="color:#5c6370;"># this line first runs "msg", then sends new coming data to the "name" function.<br></span><span style="color:#5c6370;"><br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">name</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span><span style="color:#e8ba36;">)</span>:<br>    <span style="color:#c678dd;">global </span>nm<br>    nm = <span style="color:#d19a66;">message</span>.text<br>    msg = bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">"Your age:"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">    </span>bot.<span style="color:#61afef;">register_next_step_handler</span><span style="color:#e8ba36;">(</span>msg, age<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">    <br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">age</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span><span style="color:#e8ba36;">)</span>:<br>    <span style="color:#7f8591;">ag </span>= <span style="color:#d19a66;">message</span>.text<br>    bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">"Data received!"</span><span style="color:#e8ba36;">)</span></div></div><p>Editing and Deleting Messages:</p><div style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;"><span style="color:#5c6370;"># Editing text message:<br></span>m = bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">message</span>.chat.id, <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">متن اول</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span>bot.<span style="color:#61afef;">edit_message_text</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=<span style="color:#d19a66;">message</span>.chat.id, <span style="color:#d19a66;">message_id </span>= m.message_id, <span style="color:#d19a66;">text </span>= <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">ادیت شده</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Editing content message:<br></span>m = bot.<span style="color:#61afef;">send_photo</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=<span style="color:#d19a66;">message</span>.chat.id, <span style="color:#d19a66;">photo</span>=first_photo, <span style="color:#d19a66;">caption</span>=<span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">عکس اول</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span>bot.<span style="color:#61afef;">edit_message_media</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=<span style="color:#d19a66;">message</span>.chat.id, <span style="color:#d19a66;">message_id</span>=m.message_id,<br>                       <span style="color:#d19a66;">media</span>=types.<span style="color:#61afef;">InputMediaVideo</span><span style="color:#54a857;">(</span>first_video, <span style="color:#d19a66;">caption</span>=<span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">ویدیو اول</span><span style="color:#98c379;">"</span><span style="color:#54a857;">)</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Editing just the caption:<br></span>bot.<span style="color:#61afef;">edit_message_caption</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=<span style="color:#d19a66;">message</span>.chat.id, <span style="color:#d19a66;">message_id</span>= m.message_id, <span style="color:#d19a66;">caption</span>=<span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">ادیت کپشن</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Editing markups:<br></span>bot.<span style="color:#61afef;">edit_message_reply_markup</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=call.message.chat.id, <span style="color:#d19a66;">message_id</span>=mid, <span style="color:#d19a66;">reply_markup</span>=key2<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Deleting a message<br></span>bot.<span style="color:#61afef;">delete_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">chat_id</span>=call.message.chat.id, <span style="color:#d19a66;">message_id</span>=mid<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span></div><p>&nbsp;Text Formating:</p><div style="background-color:#282c34;color:#abb2bf;font-family:'JetBrains Mono',monospace;font-size:۹٫۸pt;white-space:pre;">text1 = <span style="color:#98c379;">"&lt;b&gt; </span><span style="color:#98c379;font-family:'Courier New',monospace;">بولد</span><span style="color:#98c379;">&lt;/b&gt;"<br></span>text2 = <span style="color:#98c379;">"&lt;i&gt;</span><span style="color:#98c379;font-family:'Courier New',monospace;">تست ایتالیک</span><span style="color:#98c379;">&lt;/i&gt;"<br></span>text3 = <span style="color:#98c379;">"&lt;ins&gt;</span><span style="color:#98c379;font-family:'Courier New',monospace;">تست خط زیر دار</span><span style="color:#98c379;">&lt;/ins&gt;"<br></span>text4 = <span style="color:#98c379;">"&lt;s&gt;</span><span style="color:#98c379;font-family:'Courier New',monospace;">تست خط خورده</span><span style="color:#98c379;">&lt;/s&gt;"<br></span>text5 = <span style="color:#98c379;">"||</span><span style="color:#98c379;font-family:'Courier New',monospace;">تست اسپویلر</span><span style="color:#98c379;">||"<br></span>text6 = <span style="color:#98c379;">"[</span><span style="color:#98c379;font-family:'Courier New',monospace;">تست لینک</span><span style="color:#98c379;">](https://www.w3schools.com/html/html_formatting.asp%29)"<br></span><span style="color:#98c379;"><br></span><span style="color:#98c379;"><br></span>bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span>m.chat.id, text, <span style="color:#d19a66;">parse_mode</span>=<span style="color:#98c379;">"HTML"</span><span style="color:#e8ba36;">)<br></span><span style="color:#5c6370;"># OR<br></span>bot.<span style="color:#61afef;">send_message</span><span style="color:#e8ba36;">(</span>m.chat.id, text, <span style="color:#d19a66;">parse_mode</span>=<span style="color:#98c379;">"MarkdownV2"</span><span style="color:#e8ba36;">)</span></div><p><br></p><p>SPECIAL BOT ACTIONS FOR CONTROLLING GROUPS:</p><div style="background-color: rgb(40, 44, 52); color: rgb(171, 178, 191); font-family: &quot;JetBrains Mono&quot;, monospace; white-space: pre;"><div><span style="color:#5c6370;"># Tells Welcome to new members<br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">content_types</span>=<span style="color:#e8ba36;">[</span><span style="color:#98c379;">'new_chat_members'</span><span style="color:#e8ba36;">])<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">welcome</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">reply_to</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>, <span style="color:#98c379;">f"</span><span style="color:#e8ba36;">{</span><span style="color:#d19a66;">m</span>.from_user.first_name<span style="color:#e8ba36;">} </span><span style="color:#98c379;font-family:'Courier New',monospace;">اهلا بك في المجموعة</span><span style="color:#98c379;">."</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#5c6370;"># Accepts new members request<br></span><span style="color:#e5c07b;">@bot.chat_join_request_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>= <span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">r</span>: <span style="color:#c678dd;">True</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">approve</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">r</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">approve_chat_join_request</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">r</span>.chat.id, <span style="color:#d19a66;">r</span>.from_user.id<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>= <span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">m</span>: <span style="color:#d19a66;">m</span>.text == <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">پین</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">pin</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">pin_chat_message</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>.chat.id, <span style="color:#d19a66;">m</span>.reply_to_message.id<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">    </span>bot.<span style="color:#61afef;">reply_to</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>, <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">پین شد</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>= <span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">m</span>: <span style="color:#d19a66;">m</span>.text == <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">ارتقا به ادمین</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">promote</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">promote_chat_member</span><span style="color:#e8ba36;">(<br></span><span style="color:#e8ba36;">        </span><span style="color:#d19a66;">m</span>.chat.id,<br>        <span style="color:#d19a66;">m</span>.reply_to_message.json<span style="color:#54a857;">[</span><span style="color:#98c379;">'from'</span><span style="color:#54a857;">]</span><span style="color:#e8ba36;">[</span><span style="color:#98c379;">'id'</span><span style="color:#e8ba36;">]</span>,<br>        <span style="color:#d19a66;">can_change_info</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_delete_messages</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_edit_messages</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_invite_users</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_manage_chat</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_manage_topics</span>=<span style="color:#c678dd;">False</span>,     <span style="color:#5c6370;"># should be deleted of there is no topic.<br></span><span style="color:#5c6370;">        </span><span style="color:#d19a66;">can_manage_video_chats</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_pin_messages</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_post_messages</span>=<span style="color:#c678dd;">True</span>,<br>        <span style="color:#d19a66;">can_promote_members</span>=<span style="color:#c678dd;">True<br></span><span style="color:#c678dd;">    </span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">        </span><span style="color:#5c6370;"># To demote the admin, make all the options "False".<br></span><span style="color:#5c6370;"><br></span><span style="color:#5c6370;"><br></span><span style="color:#5c6370;"><br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func </span>= <span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">m</span>: <span style="color:#d19a66;">m</span>.text == <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">🚫</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">ban</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span><span style="color:#e8ba36;">)</span>:<br>    bot.<span style="color:#61afef;">ban_chat_member</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>.chat.id, <span style="color:#d19a66;">m</span>.reply_to_message.from_user.id, <span style="color:#d19a66;">revoke_messages</span>=<span style="color:#c678dd;">True</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;">    </span><span style="color:#5c6370;"># To unban:<br></span><span style="color:#5c6370;">    </span>bot.<span style="color:#61afef;">unban_chat_member</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span>.chat.id, <span style="color:#d19a66;">m</span>.reply_to_message.from_user.id<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;"><br></span><span style="color:#e5c07b;">@bot.message_handler</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">func</span>= <span style="color:#c678dd;">lambda </span><span style="color:#d19a66;">m</span>: <span style="color:#d19a66;">m</span>.text == <span style="color:#98c379;">"</span><span style="color:#98c379;font-family:'Courier New',monospace;">محدود</span><span style="color:#98c379;">"</span><span style="color:#e8ba36;">)<br></span><span style="color:#c678dd;">def </span><span style="color:#61afef;">restrict</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">m</span><span style="color:#e8ba36;">)</span>:<br>    duration = <span style="color:#d19a66;">10<br></span><span style="color:#d19a66;">    </span>date = datetime.datetime.<span style="color:#61afef;">now</span><span style="color:#e8ba36;">() </span>+ datetime.<span style="color:#61afef;">timedelta</span><span style="color:#e8ba36;">(</span><span style="color:#d19a66;">minutes</span>=duration<span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;">    </span>until_date = <span style="color:#56b6c2;">int</span><span style="color:#e8ba36;">(</span>date.<span style="color:#61afef;">timestamp</span><span style="color:#54a857;">()</span><span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span><span style="color:#e8ba36;">    </span>bot.<span style="color:#61afef;">restrict_chat_member</span><span style="color:#e8ba36;">(<br></span><span style="color:#e8ba36;">        </span><span style="color:#d19a66;">m</span>.chat.id,<br>        <span style="color:#d19a66;">m</span>.reply_to_message.json<span style="color:#54a857;">[</span><span style="color:#98c379;">'from'</span><span style="color:#54a857;">]</span><span style="color:#e8ba36;">[</span><span style="color:#98c379;">'id'</span><span style="color:#e8ba36;">]</span>,<br>        <span style="color:#d19a66;">until_date</span>=until_date,  <span style="color:#5c6370;"># Default is forever.<br></span><span style="color:#5c6370;">        </span><span style="color:#d19a66;">can_send_polls</span>=<span style="color:#c678dd;">False</span>,<br>        <span style="color:#d19a66;">can_pin_messages</span>=<span style="color:#c678dd;">False</span>,<br>        ...<br>    <span style="color:#e8ba36;">)<br></span><span style="color:#e8ba36;"><br></span></div></div><p><br></p><p><br></p>
</section>
<!--Till Here-->

<footer id="footer"></footer>
</body>
</html>



