
<!-- saved from url=(0114)file:///E:/Tutorials/Code%20The%20Complete%20Python%20Pro%20Bootcamp%202022/Python%20Notebook/contents/Pandas.html -->
<html><head>    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="bases/style.css">
    <script src="bases/script.js"></script>
    <script src="bases/jquery.js"></script>
    <script>
        $(function () {
            $("#header").load("bases/uni-header.html");
            $("#footer").load("bases/uni-footer.html")
        });
    </script>
    <title>Pandas</title>
</head>

<body>
<header id="header"></header>

<!--The Documentation Section Goes Here-->
<section id="Pandas">
<hr>
<h3>Pandas</h3>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">Pandas is a library to work professionally with table
            data&nbsp;in python.&nbsp;</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">We work with DataFrames or Series by using this
            library, so anything should be
            converted to a DF or Series first: (DF is just your data in the appearance of a table and Series is a column
            of data, DFs are a collection of Series.)&nbsp;<a href="https://pandas.pydata.org/docs" target="_blank">&nbsp;Docs</a></p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><br>data = pandas.<span style="color:#61afef;">read_csv</span>(<span style="color:#89ca78;">'example.csv'</span>)           <span style="color:#5c6370;font-style:italic;"># .csv to DataFrame</span></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;"><br></span>df = pd.<span style="color:#61afef;">read_csv</span>(<span style="color:#89ca78;">'example.csv'</span>, <span style="color:#d19a66;">names</span>=[<span style="color:#89ca78;">'DATE'</span>, <span style="color:#89ca78;">'TAG'</span>, <span style="color:#89ca78;">'POSTS'</span>], <span style="color:#d19a66;">header</span>=<span style="color:#d19a66;">0</span>) <br>                                                <span style="color:#5c6370;font-style:italic;"># giving column names to CSVs that don't have<br></span><br></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">df = pandas.<span style="color:#61afef;">DataFrame</span>({<span style="color:#89ca78;">'Name'</span>: [<span style="color:#89ca78;">'John'</span>, <span style="color:#89ca78;">'Jane'</span>, <span style="color:#89ca78;">'Jim'</span>, <span style="color:#89ca78;">'Joan'</span>],<br>                    <span style="color:#89ca78;">'Age'</span>: [<span style="color:#d19a66;">32</span>, <span style="color:#d19a66;">28</span>, <span style="color:#d19a66;">40</span>, <span style="color:#d19a66;">38</span>]})   <span style="color:#5c6370;font-style:italic;"># Dict. to DF. dictionary keys will become column names.<br></span><br></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">s = pandas.<span style="color:#61afef;">Series</span>([<span style="color:#d19a66;">32</span>, <span style="color:#d19a66;">28</span>, <span style="color:#d19a66;">41</span>, <span style="color:#d19a66;">35</span>], <span style="color:#d19a66;">name</span>=<span style="color:#89ca78;">'Age'</span>) <span style="color:#5c6370;font-style:italic;"># list to Series<br></span></pre></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">Some methods to explore dataframes (and series):</p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">df.<span style="color:#61afef;">head</span>()     <span style="color:#5c6370;font-style:italic;"># first rows<br></span>df.<span style="color:#61afef;">tail</span>()     <span style="color:#5c6370;font-style:italic;"># last rows<br></span>df.shape      <span style="color:#5c6370;font-style:italic;"># find out the number of rows and columns<br></span>df.<span style="color:#61afef;">count</span>()    <span style="color:#5c6370;font-style:italic;"># number of data in a particular section<br></span>df.<span style="color:#61afef;">columns</span>()  <span style="color:#5c6370;font-style:italic;"># the column names<br></span>df.<span style="color:#61afef;">nunique</span>()  <span style="color:#5c6370;font-style:italic;"># tells the number unique values in each series<br></span>df[<span style="color:#d19a66;">0</span>:<span style="color:#d19a66;">70</span>]      <span style="color:#5c6370;font-style:italic;"># slicing can be used in dfs and series<br></span>df.<span style="color:#61afef;">describe</span>() <span style="color:#5c6370;font-style:italic;"># gives a summary of mean, std, min ... of numerical columns (this info is also a DF)<br></span>df.<span style="color:#61afef;">info</span>()     <span style="color:#5c6370;font-style:italic;"># gives info about columns and their data types.<br></span>df.<span style="color:#61afef;">min</span>()      <span style="color:#5c6370;font-style:italic;"># also "max" and "idxmax"</span></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">df[<span style="color:#89ca78;">'a column'</span>].<span style="color:#61afef;">sort_values</span>()                                    <span style="color:#5c6370;font-style:italic;"># sort a column<br></span>df.<span style="color:#61afef;">sort_values</span>(<span style="color:#89ca78;">"a column"</span>, <span style="color:#d19a66;">ascending</span>=<span style="color:#d55fde;font-style:italic;">False</span>, <span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)       <span style="color:#5c6370;font-style:italic;"># sort a DF</span></pre></pre></pre></pre></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 20.8px;">Deal With NAN Values And DUPLICATES:</span></p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">df.<span style="color:#61afef;">duplicated</span>(<span style="color:#d19a66;">subset</span>=<span style="color:#89ca78;">"column"</span>) <span style="color:#5c6370;font-style:italic;"># Shows a series with boolean values of each index.<br></span><span style="color:#5c6370;font-style:italic;">                               # Ture if duplicated.<br></span><span style="color:#5c6370;font-style:italic;">                               # subset arg. (optional) specifies the column to seek for duplicates.<br></span>df.<span style="color:#61afef;">drop_duplicates</span>(<span style="color:#d19a66;">subset</span>=<span style="color:#89ca78;">"column"</span>, <span style="color:#d19a66;">keep</span>=<span style="color:#89ca78;">"last" </span>, <span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)<br><span style="color:#5c6370;font-style:italic;">                               # Delete duplicated rows except the last one based on "keep".</span></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">df.<span style="color:#61afef;">isna</span>()                      <span style="color:#5c6370;font-style:italic;"># find cells with not provided data<br></span>df.<span style="color:#61afef;">dropna</span>(<span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)        <span style="color:#5c6370;font-style:italic;"># delete rows containing cells with no data<br></span>df.<span style="color:#61afef;">isna</span>().values.<span style="color:#61afef;">any</span>()         <span style="color:#5c6370;font-style:italic;"># to see if there is a NAN cell in DF<br></span>df.<span style="color:#61afef;">fillna</span>(<span style="color:#d19a66;">0</span>, <span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)     <span style="color:#5c6370;font-style:italic;"># Substitute 0 for NAN values<br></span><span style="color:#5c6370;font-style:italic;"><br></span>df[df.<span style="color:#61afef;">isna</span>().<span style="color:#61afef;">any</span>(<span style="color:#d19a66;">axis</span>=<span style="color:#d19a66;">1</span>)]      <span style="color:#5c6370;font-style:italic;"># shows the rows with NANs.<br></span>df[df.<span style="color:#61afef;">notna</span>().<span style="color:#61afef;">any</span>(<span style="color:#d19a66;">axis</span>=<span style="color:#d19a66;">1</span>)]     <span style="color:#5c6370;font-style:italic;"># shows the rows without NANs.</span></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;"><br></span><span style="color:#89ca78;">"""<br></span><span style="color:#89ca78;">The any() function is used to check whether any element is True, potentially over an axis.<br></span><span style="color:#89ca78;">Returns False unless there at least one element within a series or along a Dataframe axis that is True.<br></span><span style="color:#89ca78;"><br></span><span style="color:#89ca78;">one of its important arg: axis Indicate which axis or axes should be reduced.<br></span><span style="color:#89ca78;"><br></span><span style="color:#89ca78;">0 / ‘index’ : reduce the index, return a Series whose index is the original column labels.<br></span><span style="color:#89ca78;">1 / ‘columns’ : reduce the columns, return a Series whose index is the original index.<br></span><span style="color:#89ca78;">None : reduce all axes, return a scalar.</span></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#89ca78;"><br></span><span style="color:#89ca78;">"""</span></pre></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 20.8px;">Getting&nbsp;</span><span style="font-size: 20.8px;">Column</span><span style="font-size: 20.8px;">(</span><span style="font-size: 20.8px;">Series</span><span style="font-size: 20.8px;">) out of a DF and working with:</span></p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;"># FILTER SPECIAL COLUMNS<br></span>df[<span style="color:#89ca78;">'column name'</span>]<br>df[[<span style="color:#89ca78;">'column name 1'</span>, <span style="color:#89ca78;">'column name 2'</span>, <span style="color:#89ca78;">'column name 3'</span>]]<br>df.column              <span style="color:#5c6370;font-style:italic;"># It's the same as the above but used for columns with no spaces in their names<br></span><span style="color:#5c6370;font-style:italic;"><br></span>df[<span style="color:#89ca78;">'a column'</span>].<span style="color:#61afef;">max</span>()   <span style="color:#5c6370;font-style:italic;"># The largest and smallest values, as well as their positions<br></span><span style="color:#5c6370;font-style:italic;">              </span>.<span style="color:#2bbac5;">min</span>()<br>              .<span style="color:#61afef;">idxmax</span>()<br><br><span style="color:#5c6370;font-style:italic;"># INSERT NEW COLUMN<br></span>df.<span style="color:#61afef;">insert</span>(<span style="color:#d19a66;">5</span>, <span style="color:#89ca78;">'Spread'</span>, values)<br>df[<span style="color:#89ca78;">'new column'</span>] =  values      <span style="color:#5c6370;font-style:italic;"># Another way to add a column after last column in the DF<br></span><span style="color:#5c6370;font-style:italic;"><br></span><span style="color:#5c6370;font-style:italic;"># RENAME COLUMNS<br></span>df.<span style="color:#61afef;">rename</span>(<span style="color:#d19a66;">columns</span>={<span style="color:#89ca78;">"old name"</span>:<span style="color:#89ca78;">"new name"</span>}, <span style="color:#d19a66;">inplace</span>= <span style="color:#d55fde;font-style:italic;">True<br></span><span style="color:#d55fde;font-style:italic;"><br></span><span style="color:#5c6370;font-style:italic;"># MODIFYING AND UPDATING A COLUMN<br></span>df[<span style="color:#89ca78;">"column"</span>] = df[<span style="color:#89ca78;">"column"</span>]*<span style="color:#d19a66;">5<br></span>df.loc[row_indexer= : , col_indexer=<span style="color:#89ca78;">"column"</span>]=df[<span style="color:#89ca78;">"column"</span>]*<span style="color:#d19a66;">5<br></span></pre><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;"><br></span></pre></pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"> <br><span style="color:#5c6370;font-style:italic;"># subtract two columns from each other in all rows<br></span>clean_df[<span style="color:#89ca78;">'90th'</span>] - clean_df[<span style="color:#89ca78;">'10th'</span>]<br>clean_df[<span style="color:#89ca78;">'90th'</span>].<span style="color:#61afef;">subtract</span>(clean_df[<span style="color:#89ca78;">'10th'</span>])<br><br></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p><p style="box-sizing: border-box; margin: 0px 0px 10px;">DELETING ROWS and COLUMNS:</p><pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;">df.<span style="color:#61afef;">drop</span>(<span style="color:#89ca78;">"Retake"</span>,<span style="color:#d19a66;">axis</span>=<span style="color:#d19a66;">1</span>,<span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)    <span style="color:#5c6370;font-style:italic;"># This deletes the column "Retake".<br></span>df.<span style="color:#61afef;">drop</span>(<span style="color:#d19a66;">5</span>,<span style="color:#d19a66;">axis</span>=<span style="color:#d19a66;">0</span>,<span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)           <span style="color:#5c6370;font-style:italic;"># This deletes the row with index "5".<br></span>df.<span style="color:#61afef;">drop</span>([<span style="color:#d19a66;">5</span>,<span style="color:#d19a66;">11</span>,<span style="color:#d19a66;">17</span>],<span style="color:#d19a66;">axis</span>=<span style="color:#d19a66;">0</span>,<span style="color:#d19a66;">inplace</span>=<span style="color:#d55fde;font-style:italic;">True</span>)   <span style="color:#5c6370;font-style:italic;"># This deletes multiple rows.</span></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">ACCESSING&nbsp; ROWS&nbsp; &amp;&nbsp; CELLS&nbsp;
            &amp;&nbsp; FILTER VALUES:&nbsp; &nbsp;<a href="https://www.listendata.com/2019/07/how-to-filter-pandas-dataframe.html" target="_blank">more...</a></p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;">df[<span style="color:#89ca78;">'a column'</span>][index]    <span style="color:#5c6370;font-style:italic;"># access individual cells<br></span>df[<span style="color:#89ca78;">'a column'</span>].loc[index]<br><br>df.loc[index or id]   <span style="white-space:pre">	</span>   <span style="color:#5c6370;font-style:italic;"># Accessing a single row<br></span>df.loc[start:stop:step]    <span style="color:#5c6370;font-style:italic;"># Accessing a range of rows</span><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;">#-----FILTERING-----<br></span>df[df.year == <span style="color:#d19a66;">1949</span>]       <span style="color:#5c6370;font-style:italic;"># Give rows with this filter<br></span>df.loc[df.year == <span style="color:#d19a66;">1949</span>]   <span style="color:#5c6370;font-style:italic;"># we can also filter under more conditions, raed in more... <br></span><span style="color:#5c6370;font-style:italic;"><br></span></pre></pre></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">"GROUPBY" is used to split the data into groups based
            on one or more columns. <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html?highlight=groupby#pandas.DataFrame.groupby" target="_blank">Doc</a>&nbsp;
        </p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><br>df.<span style="color:#61afef;">head</span>()<br><br>                  DATE         TAG  POSTS<br><span style="color:#d19a66;">0  2008</span>-<span style="color:#d19a66;">07</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00          </span>c<span style="color:#5c6370;font-style:italic;">#      3<br></span><span style="color:#d19a66;">1  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00    </span>assembly      <span style="color:#d19a66;">8<br></span><span style="color:#d19a66;">2  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00  </span>javascript    <span style="color:#d19a66;">162<br></span><span style="color:#d19a66;">3  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00           </span>c     <span style="color:#d19a66;">85<br></span><span style="color:#d19a66;">4  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00      </span>python    <span style="color:#d19a66;">124<br></span><span style="color:#d19a66;"><br></span><span style="color:#d19a66;"><br></span>df.<span style="color:#61afef;">groupby</span>(<span style="color:#89ca78;">"TAG"</span>).<span style="color:#61afef;">count</span>()<br>            DATE  POSTS<br>TAG<br>assembly     <span style="color:#d19a66;">144    144<br></span>java         <span style="color:#d19a66;">144    144<br></span>javascript   <span style="color:#d19a66;">144    144<br></span>perl         <span style="color:#d19a66;">144    144<br></span>php          <span style="color:#d19a66;">144    144<br></span>python       <span style="color:#d19a66;">144    144<br></span>...<br><br>df.<span style="color:#61afef;">groupby</span>(<span style="color:#89ca78;">"TAG"</span>)[<span style="color:#89ca78;">"POSTS"</span>].<span style="color:#61afef;">sum</span>()<br>TAG<br>assembly        <span style="color:#d19a66;">34852<br></span>c              <span style="color:#d19a66;">336042<br></span>c++            <span style="color:#d19a66;">684210<br></span>delphi          <span style="color:#d19a66;">46212<br></span>go              <span style="color:#d19a66;">47499<br></span>java          <span style="color:#d19a66;">1696403<br></span>javascript    <span style="color:#d19a66;">2056510<br></span>...<br><br>pandas.options.display.float_format = <span style="color:#89ca78;">'{:,.2f}'</span>.format  <span style="color:#5c6370;font-style:italic;"># make floats look neater.<br></span>df.<span style="color:#61afef;">groupby</span>(<span style="color:#89ca78;">"TAG"</span>)[<span style="color:#89ca78;">'POSTS'</span>].<span style="color:#61afef;">mean</span>()                       <span style="color:#5c6370;font-style:italic;"># gets average<br></span>assembly        <span style="color:#d19a66;">242.03<br></span>c             <span style="color:#d19a66;">2</span>,<span style="color:#d19a66;">333.62<br></span>c++           <span style="color:#d19a66;">4</span>,<span style="color:#d19a66;">751.46<br></span>delphi          <span style="color:#d19a66;">320.92<br></span>go              <span style="color:#d19a66;">368.21<br></span>java         <span style="color:#d19a66;">11</span>,<span style="color:#d19a66;">780.58<br></span>javascript   <span style="color:#d19a66;">14</span>,<span style="color:#d19a66;">281.32<br></span>perl            <span style="color:#d19a66;">453.38<br></span>php           <span style="color:#d19a66;">9</span>,<span style="color:#d19a66;">458.25<br></span>...<br><br></pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><br>df.<span style="color:#61afef;">groupby</span>(<span style="color:#89ca78;">"is_trans"</span>).<span style="color:#61afef;">count</span>()   <span style="color:#5c6370;font-style:italic;"># gives the number of data val. in each column.<br></span>df.is_trans.<span style="color:#61afef;">value_counts</span>()       <span style="color:#5c6370;font-style:italic;"># same as the line above, but quicker.<br></span><span style="color:#5c6370;font-style:italic;"><br></span></pre></pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><span style="color:#89ca78;">""""<br></span><span style="color:#89ca78;">A pandas groupby() object is not exactly the same as a DataFrame,<br></span><span style="color:#89ca78;">but it does provide many of the same methods and functions as a DataFrame, <br></span><span style="color:#89ca78;">as well as some additional ones that are specific to group-wise operations.<br></span><span style="color:#89ca78;">However, there are some differences between a groupby() object and a DataFrame.<br></span><span style="color:#89ca78;">For example, the groupby() object does not have a columns attribute,<br></span><span style="color:#89ca78;">and you cannot apply certain methods to it, such as sort_values(). <br></span><span style="color:#89ca78;">"""<br></span><span style="color:#5c6370;font-style:italic;"># make a DF out of the grupby obj. by keeping its properties.<br></span>new_df = grouped_data.<span style="color:#61afef;">reset_index</span>()</pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">"PIVOT" is used to pivot or reshape a DataFrame by
            transforming one column's unique values into columns, then grouping the other columns on this new pivoted
            column. <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.pivot.html" target="_blank">Doc</a>
</p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><br>df.<span style="color:#61afef;">head</span>()<br><br>                  DATE         TAG  POSTS<br><span style="color:#d19a66;">0  2008</span>-<span style="color:#d19a66;">07</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00          </span>c<span style="color:#5c6370;font-style:italic;">#      3<br></span><span style="color:#d19a66;">1  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00    </span>assembly      <span style="color:#d19a66;">8<br></span><span style="color:#d19a66;">2  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00  </span>javascript    <span style="color:#d19a66;">162<br></span><span style="color:#d19a66;">3  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00           </span>c     <span style="color:#d19a66;">85<br></span><span style="color:#d19a66;">4  2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00      </span>python    <span style="color:#d19a66;">124<br></span><span style="color:#d19a66;"><br></span><span style="color:#d19a66;"><br></span>df.<span style="color:#61afef;">pivot</span>(<span style="color:#d19a66;">index</span>=<span style="color:#89ca78;">'DATE'</span>, <span style="color:#d19a66;">columns</span>=<span style="color:#89ca78;">'TAG'</span>, <span style="color:#d19a66;">values</span>=<span style="color:#89ca78;">'POSTS'</span>)<br><br>TAG                  assembly       c       ruby   swift    ...<br>DATE<br><span style="color:#d19a66;">2008</span>-<span style="color:#d19a66;">07</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00       </span>NaN     NaN       NaN     NaN<br><span style="color:#d19a66;">2008</span>-<span style="color:#d19a66;">08</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00       8.0    85.0      73.0     </span>NaN<br><span style="color:#d19a66;">2020</span>-<span style="color:#d19a66;">03</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00     317.0  2670.0     780.0   3434.0<br></span><span style="color:#d19a66;">2020</span>-<span style="color:#d19a66;">04</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00     406.0  3472.0    860.0   4015.0<br></span><span style="color:#d19a66;">2020</span>-<span style="color:#d19a66;">05</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00     386.0  3602.0     774.0  4066.0<br></span><span style="color:#d19a66;">2020</span>-<span style="color:#d19a66;">06</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00     363.0  2757.0     670.0  3733.0<br></span><span style="color:#d19a66;">2020</span>-<span style="color:#d19a66;">07</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00     298.0  2294.0     775.0  3607.0<br></span>...<br><br><br>df.<span style="color:#61afef;">pivot</span>(<span style="color:#d19a66;">index</span>=<span style="color:#89ca78;">'TAG'</span>, <span style="color:#d19a66;">columns</span>=<span style="color:#89ca78;">'DATE'</span>, <span style="color:#d19a66;">values</span>=<span style="color:#89ca78;">'POSTS'</span>)<br><br>DATE        <span style="color:#d19a66;">2008</span>-<span style="color:#d19a66;">07</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00  </span>...  <span style="color:#d19a66;">2020</span>-<span style="color:#d19a66;">07</span>-<span style="color:#d19a66;">01 00</span>:<span style="color:#e5c07b;">00</span>:<span style="color:#d19a66;">00<br></span>TAG                              ...                     <br>assembly                    NaN  ...                <span style="color:#d19a66;">298.0<br></span>c                           NaN  ...               <span style="color:#d19a66;">2294.0<br></span>c++                         NaN  ...               <span style="color:#d19a66;">5756.0<br></span>delphi                      NaN  ...                <span style="color:#d19a66;">212.0<br></span>go                          NaN  ...                <span style="color:#d19a66;">743.0<br></span>java                        NaN  ...              <span style="color:#d19a66;">12723.0<br></span>javascript                  NaN  ...              <span style="color:#d19a66;">23802.0<br></span>...<br></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">"AGG" is used to perform different operations on one or
            more columns of a DataFrame. This function can be applied to a DataFrames or&nbsp; Series or chained with
            groupby objects. <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.agg.html" target="_blank">DF
                doc</a>&nbsp; &nbsp; &nbsp; <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.agg.html" target="_blank">S doc</a>&nbsp;
        </p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><span style="color:#5c6370;font-style:italic;">#______ SERIES _____</span><span style="color:#5c6370;font-style:italic;"><br></span>max_value = s.<span style="color:#61afef;">agg</span>(<span style="color:#89ca78;">'max'</span>)                  <span style="color:#5c6370;font-style:italic;"># doing one operation on series<br></span>s.<span style="color:#61afef;">agg</span>([<span style="color:#89ca78;">'min'</span>, <span style="color:#89ca78;">'max'</span>, <span style="color:#89ca78;">'mean'</span>, <span style="color:#89ca78;">'median'</span>])   <span style="color:#5c6370;font-style:italic;"># doing a list of operations on series<br></span><span style="color:#5c6370;font-style:italic;"># output: a new Series with the minimum, maximum, mean, and median of the original Series.</span></pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;">#______ DATAFRAME _____<br></span><span style="color:#5c6370;font-style:italic;"># apply a single function to each column of the DataFrame<br></span>df.<span style="color:#61afef;">agg</span>(<span style="color:#89ca78;">'mean'</span>)<br><span style="color:#5c6370;font-style:italic;"># output: A new Series with the mean value of each column.<br></span><span style="color:#5c6370;font-style:italic;"><br></span><span style="color:#5c6370;font-style:italic;"># apply a list of functions to each column of the DataFrame<br></span>df.<span style="color:#61afef;">agg</span>([<span style="color:#89ca78;">'mean'</span>, <span style="color:#89ca78;">'std'</span>])<br><span style="color:#5c6370;font-style:italic;"># output: A new DataFrame with a row for the mean and standard deviation of each column.<br></span><span style="color:#5c6370;font-style:italic;"><br></span><span style="color:#5c6370;font-style:italic;"># apply different functions to different columns using a dictionary of lists<br></span>df.<span style="color:#61afef;">agg</span>({<span style="color:#89ca78;">'column1'</span>: [<span style="color:#89ca78;">'mean'</span>, <span style="color:#89ca78;">'std'</span>], <span style="color:#89ca78;">'column2'</span>: [<span style="color:#89ca78;">'max'</span>, <span style="color:#89ca78;">'min'</span>]})<br><span style="color:#5c6370;font-style:italic;"># output: A new DataFrame with a row for the mean and standard deviation of column1<br></span><span style="color:#5c6370;font-style:italic;"># and a row for the max and min of column2.</span></pre></pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><span style="color:#5c6370;font-style:italic;">#______ GROUPBY OBJECT _____<br></span>df.<span style="color:#61afef;">groupby</span>(<span style="color:#89ca78;">"year"</span>).<span style="color:#61afef;">agg</span>({<span style="color:#89ca78;">"theme_id"</span>: <span style="color:#89ca78;">"nunique"</span>})<br><span style="color:#5c6370;font-style:italic;"># output: A new Series or DF (based on number of aggregrated columns)<br></span><span style="color:#5c6370;font-style:italic;"># with "unique" values for "theme_id" in each   "group"  .<br></span><span style="color:#5c6370;font-style:italic;"><br></span></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;">"TO_DATETIME" function can convertana str object of
            time and date data to a "timestamps pandas object", so we can work with date and time easily:</p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><span style="color:#5c6370;font-style:italic;"># it also converts "2020-07-01 00:00:00" to "2020-07-01" if the time is "00:00:00".<br></span>df.DATA = pandas.<span style="color:#61afef;">to_datetime</span>(df.DATE)<br></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><br></p><p style="box-sizing: border-box; margin: 0px 0px 10px;">"RESAMPLE" is a function that can be used to resample time-series data by a specified frequency. For example, you can use it to convert daily data to weekly or monthly data by aggregating or transforming the values<span style="font-size: 1.3rem;">:&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><a href="https://pandas.pydata.org/docs/user_guide/timeseries.html#offset-aliases">Offset aliases</a></p><pre style="background-color: rgb(40, 44, 52); color: rgb(187, 187, 187); font-family: &quot;JetBrains Mono&quot;, monospace;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;"># Generates a new DF with date indexed, based on "DATE" column in the original DF.<br></span>df_price_monthly = df_price_daily.<span style="color:#61afef;">resample</span>(<span style="color:#89ca78;">"M"</span>,<span style="color:#d19a66;">on</span>=<span style="color:#89ca78;">"DATE"</span>).<span style="color:#61afef;">last</span>() <span style="color:#5c6370;font-style:italic;"># Takes data from the last day of the month.<br></span><span style="color:#5c6370;font-style:italic;">                                                         </span>.<span style="color:#61afef;">first</span>()<br>                                                         .<span style="color:#61afef;">mean</span>() <span style="color:#5c6370;font-style:italic;"># Takes the average data of the month.<br></span></pre></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;"><br></span></p><p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;">"MERGE" function merges two data frames based on a common key or id:&nbsp; doc</span>
</p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><br>mg_df = pd.<span style="color:#61afef;">merge</span>(set_df_theme_count, theme_df, <span style="color:#d19a66;">on</span>=<span style="color:#89ca78;">'id'</span>)  <br><span style="color:#5c6370;font-style:italic;"># "id" is a common column  between both DFs, <br></span><span style="color:#5c6370;font-style:italic;"># the values which are not common in "id", would be ignored in new DF.<br></span><span style="color:#5c6370;font-style:italic;"><br></span></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;"><br></span></p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;">Some methods to take an output:</span>
</p>
<pre style="background-color: rgb(40, 44, 52); color: rgb(187, 187, 187); font-family: &quot;JetBrains Mono&quot;, monospace;">.<span style="color: rgb(97, 175, 239);">to_list</span>()<br>.<span style="color: rgb(97, 175, 239);">to_dict</span>()<br>.<span style="color: rgb(97, 175, 239);">to_csv</span>(<span style="color: rgb(137, 202, 120);">'example.csv'</span>)</pre>
<div><br></div>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;">SOME ADDITIONALLS:</span></p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><span style="color:#5c6370;font-style:italic;"># To make python, print the whole table:<br></span>pd.<span style="color:#61afef;">option_context</span>(<span style="color:#89ca78;">'display.max_rows'</span>, <span style="color:#d55fde;font-style:italic;">None</span>)<br>pd.<span style="color:#61afef;">option_context</span>(<span style="color:#89ca78;">'display.max_columns'</span>, <span style="color:#d55fde;font-style:italic;">None</span>)<br><span style="color:#5c6370;font-style:italic;"># Or<br></span>pd.<span style="color:#61afef;">to_string</span>()</pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><pre style="font-family: &quot;JetBrains Mono&quot;, monospace;"><span style="color:#5c6370;font-style:italic;"># Changing data types using astype()<br></span>df[<span style="color:#89ca78;">'A'</span>] = df[<span style="color:#89ca78;">'A'</span>].<span style="color:#61afef;">astype</span>(<span style="color:#2bbac5;">float</span>)</pre></pre>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><span style="color:#5c6370;font-style:italic;"># Replacing somthing in values.<br></span><span style="color:#5c6370;font-style:italic;"># here we wanted to delete "," from numbers.<br></span>df[<span style="color:#89ca78;">"A"</span>] = df[<span style="color:#89ca78;">"A"</span>].str.<span style="color:#61afef;">replace</span>(<span style="color:#89ca78;">","</span>, <span style="color:#89ca78;">""</span>) <span style="color:#5c6370;font-style:italic;"># in pandas objects we can not use '.replace()' without '.str'<br></span></pre>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;">ROLLING AVERAGE</span>
</p>
<p style="box-sizing: border-box; margin: 0px 0px 10px;"><span style="font-size: 1.3rem;">It is the simple mean of the last ‘n’ values. It usually can be used to make smoother data charts.</span>
</p>
<pre style="background-color:#282c34;color:#bbbbbb;font-family:&#39;JetBrains Mono&#39;,monospace;font-size:۹٫۸pt;"><br>rolling_df = df.<span style="color:#61afef;">rolling</span>(<span style="color:#d19a66;">window</span>=<span style="color:#d19a66;">5</span>).<span style="color:#61afef;">mean</span>()     <span style="color:#5c6370;font-style:italic;"># Here we converted the whole DF values to rolling ave.<br></span><span style="color:#5c6370;font-style:italic;">                                             # "window" attr. determines is "n" last values.<br></span><span style="color:#5c6370;font-style:italic;">                                             # if you want to make rolling ave. out of the preceded and beyond values,<br></span><span style="color:#5c6370;font-style:italic;">                                             # use "center=True"</span><br></pre>
</section>
<!--Till Here-->

<footer id="footer"></footer>





</body></html>